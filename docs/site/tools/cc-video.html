<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cc-video - Video Utilities</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-inner">
                <a href="../index.html" class="logo">
                    <svg class="logo-icon" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="36" height="36" rx="8" fill="#2563eb"/>
                        <path d="M10 18L14 22L26 10" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    CC Tools
                </a>
                <nav class="nav">
                    <a href="../index.html">Tools</a>
                    <a href="../getting-started.html">Getting Started</a>
                    <a href="https://github.com/CenterConsulting/cc-tools">GitHub</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Doc Header -->
    <section class="doc-header video">
        <div class="container">
            <div class="breadcrumb">
                <a href="../index.html">Tools</a>
                <span>/</span>
                <span>cc-video</span>
            </div>
            <h1>cc-video</h1>
            <p>Video utilities: get info, extract audio tracks, and capture screenshots at content changes or specific timestamps.</p>
        </div>
    </section>

    <!-- Content -->
    <section class="doc-content">
        <div class="container">
            <div class="doc-layout">
                <!-- Sidebar -->
                <aside class="doc-sidebar">
                    <nav class="doc-nav">
                        <h4>On This Page</h4>
                        <ul>
                            <li><a href="#overview">Overview</a></li>
                            <li><a href="#requirements">Requirements</a></li>
                            <li><a href="#commands">Commands</a></li>
                            <li><a href="#info">info</a></li>
                            <li><a href="#audio">audio</a></li>
                            <li><a href="#screenshots">screenshots</a></li>
                            <li><a href="#frame">frame</a></li>
                            <li><a href="#workflow">How It Works</a></li>
                        </ul>
                    </nav>
                </aside>

                <!-- Main Content -->
                <main class="doc-main">
                    <h2 id="overview">Overview</h2>
                    <p>cc-video is a collection of video processing utilities that work entirely offline using FFmpeg and OpenCV. It can extract information, audio tracks, and screenshots from video files.</p>

                    <div class="alert alert-info">
                        <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 16v-4M12 8h.01"/>
                        </svg>
                        <div>
                            <strong>No API Required:</strong> cc-video works entirely offline. No external services or API keys needed.
                        </div>
                    </div>

                    <h3>Features</h3>
                    <ul>
                        <li><strong>info</strong> - Display video metadata (duration, resolution, format)</li>
                        <li><strong>audio</strong> - Extract audio track to various formats</li>
                        <li><strong>screenshots</strong> - Capture frames at content changes (SSIM-based)</li>
                        <li><strong>frame</strong> - Extract single frame at specific timestamp</li>
                    </ul>

                    <h2 id="requirements">Requirements</h2>
                    <p>cc-video requires FFmpeg to be installed and available in your PATH:</p>

                    <div class="command-block">
                        <div class="command-header">Install FFmpeg</div>
                        <div class="command-body">
                            <code># Windows (Chocolatey)<br>choco install ffmpeg<br><br># macOS (Homebrew)<br>brew install ffmpeg<br><br># Linux (apt)<br>sudo apt install ffmpeg</code>
                        </div>
                    </div>

                    <h2 id="commands">Commands</h2>
                    <div class="command-block">
                        <div class="command-header">General Syntax</div>
                        <div class="command-body">
                            <code>cc-video COMMAND VIDEO_FILE [OPTIONS]</code>
                        </div>
                    </div>

                    <h2 id="info">info - Video Information</h2>
                    <p>Display video metadata including duration, resolution, format, and file size.</p>

                    <div class="command-block">
                        <div class="command-header">Usage</div>
                        <div class="command-body">
                            <code>cc-video info VIDEO_FILE</code>
                        </div>
                    </div>

                    <div class="command-block">
                        <div class="command-header">Example</div>
                        <div class="command-body">
                            <code>cc-video info lecture.mp4<br><br># Output:<br># Video: lecture.mp4<br># Duration: 45:30<br># Size: 523.4 MB<br># Format: mp4<br># Resolution: 1920 x 1080</code>
                        </div>
                    </div>

                    <h2 id="audio">audio - Extract Audio</h2>
                    <p>Extract the audio track from a video file to various audio formats.</p>

                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Option</th>
                                    <th>Default</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>-o, --output</code></td>
                                    <td>Auto</td>
                                    <td>Output file path</td>
                                </tr>
                                <tr>
                                    <td><code>-f, --format</code></td>
                                    <td>mp3</td>
                                    <td>Format: mp3, wav, aac, flac, ogg</td>
                                </tr>
                                <tr>
                                    <td><code>-b, --bitrate</code></td>
                                    <td>192k</td>
                                    <td>Audio bitrate (e.g., 128k, 192k, 320k)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="command-block">
                        <div class="command-header">Examples</div>
                        <div class="command-body">
                            <code># Default MP3 extraction<br>cc-video audio meeting.mp4<br><br># Specify output path<br>cc-video audio video.mkv -o audio_track.mp3<br><br># High quality WAV<br>cc-video audio concert.mp4 -o concert.wav -f wav<br><br># AAC with custom bitrate<br>cc-video audio podcast.mp4 -f aac -b 256k</code>
                        </div>
                    </div>

                    <h2 id="screenshots">screenshots - Content Change Detection</h2>
                    <p>Extract screenshots when visual content changes significantly. Uses SSIM (Structural Similarity Index) to detect changes - perfect for presentations, tutorials, and lectures.</p>

                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Option</th>
                                    <th>Default</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>-o, --output</code></td>
                                    <td>Required</td>
                                    <td>Output directory for screenshots</td>
                                </tr>
                                <tr>
                                    <td><code>-t, --threshold</code></td>
                                    <td>0.92</td>
                                    <td>Sensitivity (0-1, lower = more screenshots)</td>
                                </tr>
                                <tr>
                                    <td><code>-i, --interval</code></td>
                                    <td>1.0</td>
                                    <td>Minimum seconds between screenshots</td>
                                </tr>
                                <tr>
                                    <td><code>-n, --max</code></td>
                                    <td>None</td>
                                    <td>Maximum number of screenshots</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="command-block">
                        <div class="command-header">Examples</div>
                        <div class="command-body">
                            <code># Default settings<br>cc-video screenshots lecture.mp4 -o ./slides<br><br># More sensitive (captures more changes)<br>cc-video screenshots tutorial.mp4 -o ./screens -t 0.85<br><br># Less sensitive, max 20 screenshots<br>cc-video screenshots presentation.mp4 -o ./slides -t 0.95 -n 20<br><br># Faster capture interval<br>cc-video screenshots demo.mp4 -o ./frames -i 0.5</code>
                        </div>
                    </div>

                    <h3>Output Structure</h3>
                    <p>Screenshots are saved as PNG files with timestamp filenames:</p>
                    <div class="command-block">
                        <div class="command-header">Output files</div>
                        <div class="command-body">
                            <code>slides/<br>  00-00-05.png   # 5 seconds<br>  00-01-23.png   # 1 minute 23 seconds<br>  00-03-45.png   # 3 minutes 45 seconds<br>  00-05-12.png   # etc.</code>
                        </div>
                    </div>

                    <h2 id="frame">frame - Single Frame Extraction</h2>
                    <p>Extract a single frame at a specific timestamp.</p>

                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Option</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>-t, --time</code></td>
                                    <td>Timestamp in seconds (required)</td>
                                </tr>
                                <tr>
                                    <td><code>-o, --output</code></td>
                                    <td>Output image path (required)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="command-block">
                        <div class="command-header">Examples</div>
                        <div class="command-body">
                            <code># Frame at 30 seconds<br>cc-video frame video.mp4 -t 30 -o thumbnail.png<br><br># Frame at 2 minutes 15 seconds (135s)<br>cc-video frame movie.mkv -t 135 -o scene.jpg</code>
                        </div>
                    </div>

                    <h2 id="workflow">How It Works</h2>
                    <div class="diagram">
                        <svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                            <!-- cc-video central -->
                            <rect x="300" y="140" width="200" height="120" rx="12" fill="#fee2e2" stroke="#dc2626" stroke-width="3"/>
                            <text x="400" y="180" text-anchor="middle" font-family="Inter, sans-serif" font-size="18" font-weight="700" fill="#991b1b">cc-video</text>
                            <text x="400" y="205" text-anchor="middle" font-family="Inter, sans-serif" font-size="12" fill="#dc2626">Video Utilities</text>
                            <text x="400" y="230" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" fill="#ef4444">FFmpeg + OpenCV</text>

                            <!-- Input -->
                            <rect x="50" y="160" width="140" height="80" rx="8" fill="#fce7f3" stroke="#db2777" stroke-width="2"/>
                            <text x="120" y="195" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="600" fill="#9d174d">Video File</text>
                            <text x="120" y="215" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="11" fill="#db2777">.mp4 .mkv .avi</text>

                            <!-- Arrow to center -->
                            <path d="M190 200 L300 200" stroke="#64748b" stroke-width="2" marker-end="url(#arrow5)"/>

                            <!-- Commands -->
                            <rect x="560" y="40" width="140" height="50" rx="6" fill="#dbeafe" stroke="#2563eb" stroke-width="1"/>
                            <text x="630" y="60" text-anchor="middle" font-family="Inter, sans-serif" font-size="12" font-weight="600" fill="#1e40af">info</text>
                            <text x="630" y="78" text-anchor="middle" font-family="Inter, sans-serif" font-size="10" fill="#3b82f6">Metadata</text>

                            <rect x="560" y="110" width="140" height="50" rx="6" fill="#f0fdf4" stroke="#10b981" stroke-width="1"/>
                            <text x="630" y="130" text-anchor="middle" font-family="Inter, sans-serif" font-size="12" font-weight="600" fill="#166534">audio</text>
                            <text x="630" y="148" text-anchor="middle" font-family="Inter, sans-serif" font-size="10" fill="#22c55e">Extract track</text>

                            <rect x="560" y="180" width="140" height="50" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="1"/>
                            <text x="630" y="200" text-anchor="middle" font-family="Inter, sans-serif" font-size="12" font-weight="600" fill="#92400e">screenshots</text>
                            <text x="630" y="218" text-anchor="middle" font-family="Inter, sans-serif" font-size="10" fill="#d97706">SSIM detection</text>

                            <rect x="560" y="250" width="140" height="50" rx="6" fill="#ede9fe" stroke="#8b5cf6" stroke-width="1"/>
                            <text x="630" y="270" text-anchor="middle" font-family="Inter, sans-serif" font-size="12" font-weight="600" fill="#5b21b6">frame</text>
                            <text x="630" y="288" text-anchor="middle" font-family="Inter, sans-serif" font-size="10" fill="#7c3aed">Single capture</text>

                            <!-- Arrows -->
                            <path d="M500 175 L560 65" stroke="#2563eb" stroke-width="1.5"/>
                            <path d="M500 190 L560 135" stroke="#10b981" stroke-width="1.5"/>
                            <path d="M500 210 L560 205" stroke="#f59e0b" stroke-width="1.5"/>
                            <path d="M500 225 L560 275" stroke="#8b5cf6" stroke-width="1.5"/>

                            <!-- Outputs -->
                            <text x="740" y="65" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">duration, size...</text>
                            <text x="740" y="135" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">audio.mp3</text>
                            <text x="740" y="205" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">slides/*.png</text>
                            <text x="740" y="275" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">frame.png</text>

                            <!-- Command example -->
                            <rect x="150" y="330" width="500" height="50" rx="6" fill="#1e293b"/>
                            <text x="400" y="360" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="12" fill="#e2e8f0">cc-video screenshots lecture.mp4 -o ./slides -t 0.90</text>

                            <!-- Arrow marker -->
                            <defs>
                                <marker id="arrow5" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
                                </marker>
                            </defs>
                        </svg>
                        <p class="diagram-caption">cc-video provides multiple commands for different video processing tasks using FFmpeg and OpenCV</p>
                    </div>

                    <h3>Screenshot Detection (SSIM)</h3>
                    <p>The screenshots command uses SSIM (Structural Similarity Index) to detect visual changes:</p>
                    <ol>
                        <li><strong>Read Frames:</strong> OpenCV reads frames from the video at the specified interval</li>
                        <li><strong>Compare Frames:</strong> Each frame is compared to the previous using SSIM</li>
                        <li><strong>Detect Changes:</strong> When similarity drops below threshold, content has changed</li>
                        <li><strong>Save Screenshot:</strong> Changed frames are saved with timestamp filenames</li>
                    </ol>

                    <h3>Threshold Guide</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Threshold</th>
                                    <th>Sensitivity</th>
                                    <th>Best For</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>0.98</code></td>
                                    <td>Very low</td>
                                    <td>Only major scene changes</td>
                                </tr>
                                <tr>
                                    <td><code>0.95</code></td>
                                    <td>Low</td>
                                    <td>Slide presentations</td>
                                </tr>
                                <tr>
                                    <td><code>0.92</code></td>
                                    <td>Medium (default)</td>
                                    <td>Most tutorials, lectures</td>
                                </tr>
                                <tr>
                                    <td><code>0.85</code></td>
                                    <td>High</td>
                                    <td>Code demos, small text changes</td>
                                </tr>
                                <tr>
                                    <td><code>0.75</code></td>
                                    <td>Very high</td>
                                    <td>Rapid content changes</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="alert alert-info">
                        <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 16v-4M12 8h.01"/>
                        </svg>
                        <div>
                            <strong>Tip:</strong> For transcription with screenshots, use <a href="cc-transcribe.html">cc-transcribe</a> which combines video transcription with screenshot extraction.
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-inner">
                <div class="footer-logo">CC Tools</div>
                <div class="footer-links">
                    <a href="https://github.com/CenterConsulting/cc-tools">GitHub</a>
                    <a href="https://github.com/CenterConsulting/cc-tools/releases">Releases</a>
                    <a href="https://github.com/CenterConsulting/cc-tools/issues">Issues</a>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>
